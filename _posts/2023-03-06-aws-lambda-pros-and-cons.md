---
layout: post
title: "AWS Lambda 장단점과 운영의 어려움"
date: 2023-03-06 20:11 +0900
description: AWS Lambda는 서버리스 아키텍처에서 가장 인기 있는 컴퓨팅 서비스 중 하나입니다. 이것은 개발자가 코드를 작성하고 배포할 때 인프라 관리에 대한 걱정을 덜어줍니다. 그러나 AWS Lambda는 실제 운영 환경에서 제한 사항이 있습니다. 이 글에서는 AWS Lambda를 사용하면서 마주할 수 있는 여러 가지 한계에 대해 살펴보겠습니다.
image: https://images.velog.io/images/jeffyoun/post/58ab53ee-c62a-44c1-863b-9431608de91d/1_H5SUqUJhRRG2gbgCXV2ghQ.png
tags: [aws]
---
# AWS Lambda 장단점과 운영의 어려움

## 소개

AWS Lambda는 서버리스 아키텍처에서 가장 인기 있는 컴퓨팅 서비스 중 하나입니다. 이것은 개발자가 코드를 작성하고 배포할 때 인프라 관리에 대한 걱정을 덜어줍니다. 그러나 AWS Lambda는 실제 운영 환경에서 제한 사항이 있습니다. 이 글에서는 AWS Lambda를 사용하면서 마주할 수 있는 여러 가지 한계에 대해 살펴보겠습니다.

## 장점

- 인프라 관리 부담 감소: 개발자는 코드 작성에만 집중할 수 있으며, AWS가 인프라를 관리해준다.
- 확장성 및 탄력성: AWS Lambda는 자동으로 확장하므로, 트래픽이 증가하더라도 안정적으로 서비스를 제공할 수 있다.
- 비용 절감: 사용하지 않으면 비용도 부과되지 않으며, 실행 시간에 대한 비용만 지불하면 된다.
- 다양한 언어 지원: AWS Lambda는 다양한 언어를 지원하므로, 개발자는 선호하는 언어를 사용할 수 있다.
- 다양한 통합 기능: AWS Lambda는 다양한 AWS 서비스와 통합되어 있으므로, 개발자는 다른 AWS 서비스를 사용하여 Lambda 함수를 확장할 수 있다.

## 단점

- 콜드 스타트 지연: 함수가 처음 시작될 때 초기화가 필요하므로, 응답 시간이 늦어질 수 있다.
- 실행 시간 제한: 함수의 실행 시간이 제한되어 있어, 긴 작업을 처리하기 어렵다.
- 제한된 환경 변수 크기: 환경 변수에 저장할 수 있는 데이터 크기가 제한되어 있어, 복잡한 설정 정보를 저장하기 어렵다.
- 메모리 제한: 함수가 사용할 수 있는 메모리 양이 제한되어 있어, 함수의 성능에 영향을 미친다.
- 제한된 로깅 및 디버깅 기능: 로깅 및 모니터링 기능이 제한적이므로, 별도의 서비스를 사용해야 한다.
- 지역성 제한: 함수를 실행할 수 있는 지역이 제한되어 있어, 특정 리소스를 사용할 수 없는 경우가 있다.

## 콜드 스타트 지연

AWS Lambda는 기본적으로 이벤트가 발생할 때마다 함수를 시작하여 코드를 실행합니다. 이때 함수가 처음 시작될 때는 "콜드 스타트"라는 상태가 됩니다. 이 시점에서 함수는 초기화 프로세스를 거치며, 이로 인해 함수가 호출될 때 지연이 발생할 수 있습니다. 이러한 지연은 응답 시간을 늦추고, 사용자 경험에 영향을 미칠 수 있습니다. 이를 해결하기 위해, Lambda는 함수를 미리 초기화하는 "웜 스타트"라는 메커니즘을 제공합니다. 그러나 이를 구현하려면 추가 비용이 들어갑니다. 개발자는 이를 고려하여 함수를 설계하고, 적절한 방식으로 함수를 초기화해야 합니다.

## 실행 시간 제한

AWS Lambda 함수의 실행 시간은 최대 900초(15분)로 제한됩니다. 따라서 함수가 실행되는 동안 이 시간을 초과하면 Lambda는 함수 실행을 중지하고 예외를 발생시킵니다. 이는 일부 긴 작업을 처리할 때 문제가 될 수 있습니다. 이 경우 해결책은 함수를 분할하여 여러 함수로 나누는 것입니다. 또한, 함수가 실행되는 동안 메모리 사용량도 중요합니다. 불필요한 데이터를 저장하지 않도록 주의해야 하며, 함수를 최적화하여 실행 시간을 줄이는 것이 좋습니다.

## 제한된 환경 변수 크기

AWS Lambda는 환경 변수를 사용하여 함수에 설정 정보를 제공합니다. 그러나 이러한 변수에 저장할 수 있는 데이터의 크기는 제한적입니다. 현재 AWS Lambda는 환경 변수의 크기를 4KB로 제한하고 있습니다. 그러므로 이러한 제한으로 인해 복잡한 설정 정보를 저장하는 데에는 한계가 있습니다. 이를 극복하기 위해서는 데이터를 다른 소스에서 가져와야 할 수도 있습니다.

## 메모리 제한

AWS Lambda 함수는 실행 중에 사용할 수 있는 메모리 양에 대한 제한이 있습니다. 이러한 제한은 함수의 성능과 관련이 있습니다. 예를 들어, 함수에 많은 메모리를 할당하면 함수가 더 빠르게 실행될 수 있습니다. 그러나 이는 추가 비용이 발생하게 됩니다. AWS Lambda는 기본적으로 128MB에서 시작하여 최대 3008MB까지 메모리 할당량을 지원합니다. 개발자는 함수가 필요로 하는 메모리 양을 판단하여 적절한 할당량을 선택해야 합니다.

## 제한적인 로깅 및 디버깅 기능

AWS Lambda는 디버깅 및 문제 해결을 위한 일부 로깅 및 모니터링 기능을 제공합니다. 그러나 이러한 기능은 제한적이며, 종종 충분하지 않을 수 있습니다. 이를 보완하기 위해서는 추가적인 로깅 및 모니터링 서비스를 사용해야 합니다. 개발자는 Lambda 함수에서 발생 가능한 문제에 대해 사전에 대비하여 로깅 및 모니터링 기능을 적절하게 활용해야 합니다.

## 지역성 제한

AWS Lambda는 지역성을 지원합니다. 즉, 함수를 실행할 수 있는 지역을 선택할 수 있습니다. 그러나 이는 일부 제한 사항이 존재합니다. 예를 들어, Lambda 함수에서 사용 가능한 리소스 유형이 지역에 따라 다를 수 있습니다. 이는 특정 리소스를 사용할 수 없게 만들 수 있습니다. 개발자는 함수가 사용하는 리소스에 대해 충분한 이해를 가지고, 함수가 실행되는 지역을 결정해야 합니다.

## 결론

AWS Lambda는 매우 유연하고 확장 가능한 서비스이지만, 여전히 제한 사항이 존재합니다. 이러한 제한 사항을 이해하고 이를 최대한 극복하기 위해 추가 조치를 취하는 것이 중요합니다. 따라서 개발자는 함수의 실행 시간, 메모리 할당량, 환경 변수 크기, 로깅 및 디버깅 기능, 그리고 지역성을 고려하여 AWS Lambda를 사용해야 합니다. 또한, Lambda의 한계를 극복하기 위한 다양한 방법을 연구하고 적용해야 합니다. AWS Lambda를 최대한 활용하여 안정적이고 효율적인 서비스를 제공할 수 있도록 노력해야 합니다.