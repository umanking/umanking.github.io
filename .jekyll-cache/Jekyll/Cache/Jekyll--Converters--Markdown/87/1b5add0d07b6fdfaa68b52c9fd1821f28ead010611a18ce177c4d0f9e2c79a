I"ĞA<h1 id="junit5">JUnit5</h1>

<h2 id="maven-ì¶”ê°€">Maven ì¶”ê°€</h2>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.junit.jupiter<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>junit-jupiter-engine<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>5.1.0<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>ì´ë ‡ê²Œ ì§ì ‘ ì¶”ê°€í•´ë„ ë˜ê³ , SpringBootë¥¼ ì‚¬ìš©í•œë‹¤ë©´ <code class="language-plaintext highlighter-rouge">spring-boot-starter-test</code> ë¥¼ ì¶”ê°€í•˜ë©´ junit-jupiter ëª¨ë“ˆì´ í¬í•¨ëœë‹¤.</p>

<h2 id="ê¸°ë³¸-ì–´ë…¸í…Œì´ì…˜">ê¸°ë³¸ ì–´ë…¸í…Œì´ì…˜</h2>

<h3 id="beforeall-beforeeach">@BeforeAll, @BeforeEach</h3>

<p>@BeforeAll ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë†ˆì€, ë°˜ë“œì‹œ staticì´ì–´ì•¼ í•œë‹¤. ë‹¨ í•œë²ˆë§Œ ì‹¤í–‰ë˜ê³ , @BeforeEach ëŠ” í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì´ì „ì— ë§¤ë²ˆ ì‹¤í–‰ëœë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@BeforeAll</span>
<span class="kd">static</span> <span class="kt">void</span> <span class="nf">beforeAll</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"í•œë²ˆë§Œ ì‹¤í–‰ë¨ beforeAll"</span><span class="o">);</span>
<span class="o">}</span>

<span class="nd">@BeforeEach</span>
<span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ë§¤ í…ŒìŠ¤íŠ¸ ë§ˆë‹¤ ì‹¤í–‰ë¨ "</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="afterall-aftereach">@AfterAll, @AfterEach</h3>

<p>@AfterAll ë„ ë°˜ë“œì‹œ staticì´ì–´ì•¼ í•œë‹¤. ë‹¨ í•œë²ˆë§Œ ì‹¤í–‰ëœë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ @AfterEachë„ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì´í›„ë¡œ ë§¤ë²ˆ ì‹¤í–‰ëœë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@AfterAll</span>
<span class="kd">static</span> <span class="kt">void</span> <span class="nf">afterAll</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"í•œë²ˆë§Œ ì‹¤í–‰ë¨ afterAll"</span><span class="o">);</span>
<span class="o">}</span>

<span class="nd">@AfterEach</span>
<span class="kt">void</span> <span class="nf">tearDown</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ë§¤ í…ŒìŠ¤íŠ¸ ë§ˆë‹¤ ì‹¤í–‰ë¨ (afterEach)"</span><span class="o">);</span>
<span class="o">}</span>

</code></pre></div></div>

<h3 id="junit4ì—ì„œ-ì‚¬ìš©í•˜ë˜-ì–´ë…¸í…Œì´ì…˜ëª…ì´-ë³€ê²½ë˜ì—ˆë‹¤">JUnit4ì—ì„œ ì‚¬ìš©í•˜ë˜ ì–´ë…¸í…Œì´ì…˜ëª…ì´ ë³€ê²½ë˜ì—ˆë‹¤.</h3>

<ul>
  <li>@BeforeClass â†’ @BeforeAll : í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì „ ë”± í•œë²ˆ ì‹¤í–‰í•¨ (static ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•¨)</li>
  <li>@Before â†’ @BeforeEach : ëª¨ë“  í…ŒìŠ¤íŠ¸ ì „ì— ì‹¤í–‰í•¨</li>
  <li>@AfterClass â†’ @AfterAll : í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„ ë”± í•œ ë²ˆ ì‹¤í–‰í•¨ (static ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•¨)</li>
  <li>@After â†’ @AfterEach : ëª¨ë“  í…ŒìŠ¤íŠ¸ ê°ê° ì¢…ë£Œ í›„ì— ì‹¤í–‰í•¨</li>
</ul>

<h3 id="displayname-disabled">@DisplayName, @Disabled</h3>

<p>ê° í…Œì´íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì´ë¦„ì„ ì„¸ë¶€ì ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="nd">@DisplayName</span><span class="o">(</span><span class="s">"í…ŒìŠ¤íŠ¸ 1"</span><span class="o">)</span>
<span class="kt">void</span> <span class="nf">test1</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test1"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>@Disabledë¥¼ í†µí•´ì„œ í•´ë‹¹ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤. (JUnit4 ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">@Ignore</code> ê³¼ ë™ì¼í•˜ë‹¤.)</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="nd">@Disabled</span> 
<span class="kt">void</span> <span class="nf">test2</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test2"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="parameterizedtest-ï¸"><u>@ParameterizedTest â­ï¸</u></h3>

<p>@ParameterizedTestëŠ” @Testë¥¼ ëŒ€ì‹ í•´ì„œ ì—¬ëŸ¬ê°œì˜ íŒŒë¼ë¯¸í„° ê°’ë“¤ì„ íŒŒë¼ë¯¸í„° ê°’ìœ¼ë¡œ ì£¼ê³ , ê° í•­ëª©ë“¤ì„ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ParameterizedTest</span>
<span class="nd">@ValueSource</span><span class="o">(</span><span class="n">ints</span> <span class="o">=</span> <span class="o">{</span><span class="mi">2</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">})</span>
<span class="kt">void</span> <span class="nf">isEven</span><span class="o">(</span><span class="kt">int</span> <span class="n">number</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">assertTrue</span><span class="o">(</span><span class="nc">Numbers</span><span class="o">.</span><span class="na">isEven</span><span class="o">(</span><span class="n">number</span><span class="o">));</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ë‹¤ìŒê³¼ ê°™ì´ <code class="language-plaintext highlighter-rouge">@ValueSource</code>ë¥¼ ê²€ì‚¬í•˜ê³ ì í•˜ëŠ” ì¸ìì˜ ê°’ì„ ì…ë ¥í•˜ë©´, @ValueSourceì— ë‹´ì€ íŒŒë¼ë¯¸í„° í•˜ë‚˜í•˜ë‚˜ë¥¼ Junitì´ í…ŒìŠ¤íŠ¸í•œë‹¤.</p>

<h4 id="null-and-empty-source">Null and Empty Source</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ParameterizedTest</span>
<span class="nd">@NullSource</span>
<span class="kt">void</span> <span class="nf">null_source_test</span><span class="o">(</span><span class="nc">String</span> <span class="n">input</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">assertThat</span><span class="o">(</span><span class="n">input</span><span class="o">).</span><span class="na">isNull</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>@NullSource -  input íŒŒë¼ë¯¸í„°ê°’ì— nullê°’ì„ ë„£ì–´ì¤€ë‹¤.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ParameterizedTest</span>
<span class="nd">@EmptySource</span>
<span class="kt">void</span> <span class="nf">empty_source_test</span><span class="o">(</span><span class="nc">String</span> <span class="n">input</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">assertThat</span><span class="o">(</span><span class="n">input</span><span class="o">).</span><span class="na">isEmpty</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>@EmptySource -  input íŒŒë¼ë¯¸í„°ê°’ì— ë¹ˆê°’(â€œâ€)ì„ ë„£ì–´ì¤€ë‹¤.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ParameterizedTest</span>
<span class="nd">@NullAndEmptySource</span>
<span class="kt">void</span> <span class="nf">null_and_empty_source_test</span><span class="o">(</span><span class="nc">String</span> <span class="n">input</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">assertThat</span><span class="o">(</span><span class="nc">Strings</span><span class="o">.</span><span class="na">isBlank</span><span class="o">(</span><span class="n">input</span><span class="o">)).</span><span class="na">isTrue</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>@NullAndEmptySource - input íŒŒë¼ë¯¸í„° ê°’ì— <code class="language-plaintext highlighter-rouge">nullê°’</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">ë¹ˆê°’</code>ì„ ë„£ì–´ì¤€ë‹¤.</li>
</ul>

<h4 id="enumsource">EnumSource</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="nc">RoleType</span> <span class="o">{</span>
  <span class="no">ADMIN</span><span class="o">,</span> <span class="no">USER</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ADMINê³¼ USER íƒ€ì…ì˜ RoleType Enumì´ ìˆë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ParameterizedTest</span>
<span class="nd">@EnumSource</span><span class="o">(</span><span class="nc">RoleType</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kt">void</span> <span class="nf">enum_test</span><span class="o">(</span><span class="nc">RoleType</span> <span class="n">roleType</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">assertThat</span><span class="o">(</span><span class="nc">RoleType</span><span class="o">.</span><span class="na">values</span><span class="o">()).</span><span class="na">contains</span><span class="o">(</span><span class="n">roleType</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>RoleType Enumê°’ì„ íŒŒë¼ë¯¸í„° ê°’ìœ¼ë¡œ ë„˜ê²¨ì„œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ParameterizedTest</span>
<span class="c1">// RoleType.ADMIN ê°’ì„ ì œì™¸í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤</span>
<span class="nd">@EnumSource</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="nc">RoleType</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">names</span> <span class="o">=</span> <span class="o">{</span><span class="s">"ADMIN"</span><span class="o">},</span> <span class="n">mode</span> <span class="o">=</span> <span class="nc">Mode</span><span class="o">.</span><span class="na">EXCLUDE</span><span class="o">)</span>
<span class="kt">void</span> <span class="nf">enum_exclude_test</span><span class="o">(</span><span class="nc">RoleType</span> <span class="n">roleType</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">assertThat</span><span class="o">(</span><span class="n">roleType</span><span class="o">).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="nc">RoleType</span><span class="o">.</span><span class="na">USER</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>enumì˜ íŠ¹ì •ê°’ì„(RoleType.ADMIN) ê°’ì„ ì œì™¸í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤</p>

<h4 id="csv-files">CSV Files</h4>

<p><code class="language-plaintext highlighter-rouge">src/test/resources/data.csv</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>first,second
test,TEST
teSt,TEST
sprIng,SPRING
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ParameterizedTest</span>
<span class="nd">@CsvFileSource</span><span class="o">(</span><span class="n">resources</span> <span class="o">=</span> <span class="s">"/data.csv"</span><span class="o">,</span> <span class="n">numLinesToSkip</span> <span class="o">=</span> <span class="mi">1</span><span class="o">)</span>
<span class="kt">void</span> <span class="nf">csv_file_test</span><span class="o">(</span><span class="nc">String</span> <span class="n">firstColumn</span><span class="o">,</span> <span class="nc">String</span> <span class="n">secondColumn</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">assertThat</span><span class="o">(</span><span class="n">firstColumn</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="n">secondColumn</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>@CsvFileSourceëŠ” í•´ë‹¹ csvíŒŒì¼ì„ resouceê²½ë¡œì—ì„œ íŒŒì¼ì„ ì½ì–´ì„œ, íŒŒë¼ë¯¸í„° ê°’ìœ¼ë¡œ ì œê³µí•´ ì¤€ë‹¤.</li>
</ul>

<h2 id="exception-test">Exception Test</h2>

<p>ì´ë²ˆì—ëŠ” ì²˜ìŒ ì§ìˆ˜ì¸ì§€ë¥¼ ê²€ì¦í•˜ëŠ” ë©”ì„œë“œì— ê¸°ëŠ¥ì„ í•˜ë‚˜ ì¶”ê°€ í•´ë³´ì.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isEven</span><span class="o">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">number</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">number</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">number</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>0ë³´ë‹¤ ì‘ì€ ê°’ì´ ë“¤ì–´ì˜¨ ê²½ìš°ì— <code class="language-plaintext highlighter-rouge">IllegalArgumentException</code>ë¥¼ ë°œìƒ ì‹œí‚¨ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@DisplayName</span><span class="o">(</span><span class="s">"ì§ìˆ˜ í…ŒìŠ¤íŠ¸: ìŒìˆ˜ê°’ì¸ ê²½ìš°ì— ì˜ˆì™¸ ë°œìƒ"</span><span class="o">)</span>
    <span class="nd">@ParameterizedTest</span>
    <span class="nd">@ValueSource</span><span class="o">(</span><span class="n">ints</span> <span class="o">=</span> <span class="o">{-</span><span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">})</span>
    <span class="kt">void</span> <span class="nf">isEven_negative_test</span><span class="o">(</span><span class="kt">int</span> <span class="n">number</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">assertThatExceptionOfType</span><span class="o">(</span><span class="nc">IllegalArgumentException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
                <span class="o">.</span><span class="na">isThrownBy</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">Numbers</span><span class="o">.</span><span class="na">isEven</span><span class="o">(</span><span class="n">number</span><span class="o">));</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>ì—­ì‹œë‚˜ @ParameterizedTestì™€ <code class="language-plaintext highlighter-rouge">assertThatExceptionOfType</code>ì„ í™œìš©í•œë‹¤.
ë°œìƒí•  exceptioní´ë˜ìŠ¤ë¥¼ ì ê³  ëˆ„êµ¬ì— ì˜í•´ì„œ ë˜ì ¸ì§€ëŠ”ì§€(isThrownBy)ë¥¼ ëª…ì‹œí•œë‹¤. ë‹¤ë§Œ í•´ë‹¹ ë©”ì„œë“œì˜ ì¸ìëŠ” ThrowingCallable ì´ê¸° ë•Œë¬¸ì— ëŒë‹¤í˜•íƒœë¡œ ì‘ì„±í•´ ì¤€ë‹¤.</p>

<h2 id="ì°¸ê³ ">ì°¸ê³ </h2>

<ul>
  <li>
    <p>https://www.baeldung.com/junit-5</p>
  </li>
  <li>
    <p>https://www.baeldung.com/parameterized-tests-junit-5</p>
  </li>
</ul>

:ET